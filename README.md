# TestTaskForSelsup
Добрый день!
Мне кажется, я не совсем понял, что от меня требуется. Но я написал следующее, может, это и подразумевалось: мы получаем объект Document, содержащий информацию из данной инструкции от "Честного знака" https://xn--80ajghhoc2aj1c8b.xn--p1ai/upload/uf/022/Vvod_tovara_v_oborot_moloko.pdf . 
Задачи нашего CrptApi:
  1) Сериализовать данные из объекта Document  в строку,
  2) Отправить JSON формате методом POST на https://ismp.crpt.ru/api/v3/lk/documents/create.

Чтобы не нарушать SRP, я создал 2 метода, а не один, как то просилось в задании:
1) public String serializeDocument(Document document, String sign) - получает на вход документ и подпись, возвращает результат маппинга в строковом виде. Для сериализации используется библиотека Jackson.
2) public String sendSerializedDocument(String serializedJson) - получает на вход строку, содержащую json, которую вставляет в body запроса на сервер. Возвращает ответ от сервера. Для удобства разбил отправку на 2 метода, чтобы не перегружать. В публичном происходит непосредственная отправка и отлов исключений, а в приватном sendDataToServer создаются необходимые объекты (URL, HttpsURLConnection и т.д.).

Поскольку метода получилось 2, то вызов из тестового класса Main происходит в 2 этапа. Я нарушил условиt задачи про один метод в угоду этой приписки "Реализация должна быть максимально удобной для последующего расширения функционала." в конце ТЗ. Если мы разделим методы, то так будет правильно. 
Ввиду этого факта я не делаю проверку на количество запросов к Api во втором методе, потому что null возвращается из первого метода при привышении лимита, а значит второй метод вызываться не будет (см. класс Main). 

В задании просилось завернуть всё в один класс CrptApi.java, он находится в .... Но так же я выкладываю весь проект, собранный с помощью Maven, который содержит доп.классы, с помощью которых я проверял сериализацию объекта в пакете, и Main класс, с помощью которого я тестировал CrptApi.
